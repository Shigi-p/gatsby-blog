---
title: summary_20200420
---


# 2020/04/20

# 本日の作業

- 引き続きコマンドラインツールの開発  
  - メインメソッドgcommitの追加  
  - そのため共通化できる操作はメソッドに追加、それに応じてテストを修正  
  - -h/--helpオプションで使用方法を表示できるようにした  
  - 5回くらいエラーを起こすと終了するようにした  

# 本日学んだこと

## minitestのより詳細な使用方法

テストをどんどんと追加していくとテストが多すぎて面倒なことになるので、
```ruby
ruby test_program.rb -n test_method_name
```
この記述方法で特定のテストのみを実行することが出来る。

## エラー出力関連

```ruby
class ClassName
  # メインの動作
rescue => e
  # エラーの処理
end
```

この記述で良いかと思ったが、エラーをraiseした瞬間それ以下のメソッドなどが実行されないらしい。  
そのため各メソッド内部でエラーをcatchするように変更。

```ruby
def method_name
  # メインの動作
rescue => e
  # エラーの処理
end
```

色々やっているうちに、テストも書き換える必要が出てきたので5回ほどエラーを起こした場合は
RuntimeErrorをraiseしメッセージを返すようにした。  
